!function(e,t){"function"==typeof define&&define.amd?define(["meTools","meLockView","meShowTransition","meTrapFocus"],t):"object"==typeof exports?module.exports=t(meTools,meLockView,meShowTransition,meTrapFocus):e.meShowTransition=t(meTools,meLockView,meShowTransition,meTrapFocus)}(this,function(e,t,o,r){function i(t,o){var r=this;n.call(r).options=e.mergeObjects(P,o),a.call(r,t)}function n(){var e=this;return e.shown=!1,e.options={},e.container=null,e.backdrop=null,e.trigger=null,e.meTrapFocus=null,e.mainShowTransition=null,e.backdropShowTransition=null,e.keepBackdrop=!1,e}function a(e){var t=this,o=t.options;return t.container=c.call(t,e),o.modal&&(t.backdrop=s.call(t)),l.call(t),u.call(t),d.call(t),f.call(t),p.call(t),b.call(t,!0),t}function c(t){var o=this,r=e.getElementById(t);if(!r)throw"meDialog: Container element not found";return r.setAttribute("role","dialog"),e.registerEvent(o,r,"click",function(e){v.call(o,e)}),e.registerEvent(o,r,"keydown",function(e){T.call(o,e)}),e.registerEvent(o,r,"showdialog",function(e){w.call(o,e.detail)}),e.registerEvent(o,r,"hidedialog",function(e){k.call(o)}),r}function s(){var t=this,r=t.options,i=t.container,n=r.backdrop,a=!1;if("string"==typeof n?a=i.querySelector(n):n&&"object"==typeof n&&"undefined"!=typeof n.tagName&&(a=n),!a)throw"meDialog: Backdrop element not found";if(a.setAttribute("tabindex","-1"),e.registerEvent(t,a,"click",function(e){S.call(t,e.target)}),!e.isParent(t.container,a)){var c=e.copyValues(t.options);c.callbacks={},t.backdropShowTransition=new o(a,c)}return a}function l(){var t=this,o=t.options,r=t.container,i=o.label,n=!1;if("string"==typeof i?n=r.querySelector(i):"object"==typeof i&&"undefined"!=typeof i.tagName&&(n=i),n)r.setAttribute("aria-labelledby",e.getId(n,o.idPrefix));else{if("string"!=typeof i)throw"meDialog: Label element not found";r.setAttribute("aria-label",i)}return t}function u(){for(var t=this,o=t.container.querySelectorAll(t.options.closeSelector),r=function(){-1!==this.className.indexOf(t.options.keepBackdropIndicator)&&(t.keepBackdrop=!0),b.call(t)},i=0;i<o.length;i++)e.registerEvent(t,o[i],"click",r);return t}function d(){var e=this,t=e.container;e.meTrapFocus=new r(t,e.options);var o=t.getAttribute("tabindex");return o||0===o||(t.setAttribute("data-tabindexed","true"),t.setAttribute("tabindex","-1")),e}function f(){function r(e,t){d[t]&&(e.backdrop=l.backdrop,e.trigger=l.trigger,d[t](e))}function i(e){return function(t){r(t,e)}}function n(e){r(e,"beforeShow"),l.backdropShowTransition&&l.backdropShowTransition.show(e.immediate),u.lockView&&t.lock(),l.trigger&&l.trigger.setAttribute("aria-expanded","true"),l.container.setAttribute("aria-hidden","false")}function a(e){l.meTrapFocus.update(),H.call(l),r(e,"afterShow")}function c(e){r(e,"beforeHide"),l.backdropShowTransition&&!l.keepBackdrop&&l.backdropShowTransition.hide(e.immediate),l.trigger&&(l.trigger.setAttribute("aria-expanded","false"),x.call(A.call(l)))}function s(e){g.call(l),u.lockView&&!l.keepBackdrop&&t.unlock(),l.keepBackdrop=!1,l.container.setAttribute("aria-hidden","true"),r(e,"afterHide")}var l=this,u=l.options,d=u.callbacks,f=e.copyValues(u);return f.callbacks={},f.callbacks={beforeShow:n,beforeShowTransition:i("beforeShowTransition"),afterShowTransition:i("afterShowTransition"),afterShow:a,beforeHide:c,beforeHideTransition:i("beforeHideTransition"),afterHideTransition:i("afterHideTransition"),afterHide:s},l.mainShowTransition=new o(l.container,f),l}function p(){for(var t=this,o=e.getId(t.container,t.options.idPrefix),r=document.querySelectorAll("["+L+'="'+o+'"]'),i=function(){t.show(this)},n=0;n<r.length;n++){var a=r[n];a.setAttribute("aria-controls",o),e.registerEvent(t,r[n],"click",i)}return t}function h(e,t){return m.call(this,t),this.mainShowTransition.show(e),this}function b(e){return this.mainShowTransition.hide(e),this}function m(e){var t=this;return e&&t.container.setAttribute(t.options.viewPropsAttribute,e),t}function g(){var e=this;return e.container.removeAttribute(e.options.viewPropsAttribute),e}function w(e){this.show(e.trigger)}function k(){this.hide()}function v(e){var t=this;t.options}function T(e){if(!e.ctrlKey&&!e.altKey){var t=e.keyCode?e.keyCode:e.which;this.options.requireConfirm||t!=E||(b.call(this),e.stopPropagation())}}function S(e){var t=this;return t.backdrop==e&&(t.options.closeOnBackdrop?b.call(t):t.container.focus()),t}function y(e){return this.trigger=e,this}function A(){var e=this;return e.trigger&&e.trigger.focus(),e}function x(){return this.trigger=null,this}function H(){var e=this,t=e.options,o=t.customHandler.focus,r=null,i=e.meTrapFocus.getTabable();if("function"==typeof o&&(r=o(e.container)),!r)for(var n=0;n<i.length;n++)if(!i[n].matches(t.closeSelector)){r=i[n];break}!r&&i.length&&(r=i[0]),(r||(i.length?i[0]:e.container)).focus()}function B(){for(var e=document.querySelectorAll("["+F+"]"),t=0;t<e.length;t++)new i(e[t])}var E=27,F="data-me-dialog",L="data-me-show-dialog",P={modal:!0,backdrop:".me-backdrop",closeOnBackdrop:!1,label:".me-label",closeSelector:".me-close",keepBackdropIndicator:"me-keep-backdrop",requireConfirm:!1,viewPropsAttribute:"data-view-props",customHandler:{focus:!1},callbacks:{beforeShow:!1,beforeShowTransition:!1,afterShowTransition:!1,afterShow:!1,beforeHide:!1,beforeHideTransition:!1,afterHideTransition:!1,afterHide:!1},lockView:!0,idPrefix:"id-"};return i.prototype.show=function(){for(var e,t,o,r=this,i=0;i<arguments.length;i++){var n=arguments[i],a=typeof n;"boolean"===a?t=n:"string"===a?o=n:"object"===a&&n.tagName&&(e=n)}return e&&y.call(r,e),h.call(r,t,o)},i.prototype.hide=function(){return b.call(this)},i.prototype.update=function(){return this.meTrapFocus.update(),this},i.prototype.canShow=function(){return this.mainShowTransition.canShow()},i.prototype.destroy=function(){var t=this,o=t.container;return o.removeAttribute("role"),o.removeAttribute("aria-hidden"),o.removeAttribute("aria-labelledby"),o.removeAttribute("aria-label"),t.backdrop.removeAttribute("tabindex"),o.getAttribute("data-tabindexed")&&(o.removeAttribute("data-tabindexed"),o.removeAttribute("tabindex")),t.trigger&&t.trigger.removeAttribute("aria-expanded"),e.unregisterEvent(t),t.meTrapFocus.destroy(),t.mainShowTransition.destroy(),t.backdropShowTransition&&t.backdropShowTransition.destroy(),n.call(t),null},"loading"!==document.readyState?B():window.addEventListener("DOMContentLoaded",function V(){window.removeEventListener("DOMContentLoaded",V),B()}),i});
/**
 * @license me-dialog 1.0.9 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-dialog for details
 */

//# sourceMappingURL=me-dialog.min.js.map

/**
 * @license me-dialog 1.0.9 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-dialog for details
 */

/**
 * @license me-dialog 1.0.10 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-dialog for details
 */

/**
 * @license me-dialog 1.0.11 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-dialog for details
 */

/**
 * @license me-dialog 2.0.0 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-dialog for details
 */

/**
 * @license me-dialog 2.0.1 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-dialog for details
 */
